<div class="h-full">
  <div
    class="mb-2 mt-2 pt-5 text-center text-xl text-white">
    <mat-card-title
      [ngClass]="{'text-blue-500': item.rarity === ItemRarity.RARE, 'text-purple-500': item.rarity === ItemRarity.EPIC, 'text-orange-500': item.rarity === ItemRarity.LEGENDARY}">{{ item.name | titlecase }}
    </mat-card-title>
  </div>

  @if (item.showDetails || showDetails) {
    <div
      class="flex flex-col min-h-full text-center items-center justify-start p-1">
      <div class="p-1">
        <p class="font-semibold">
          Price: <span
          class="text-yellow-300">{{ item.price }} 🟡</span>
        </p>
      </div>
      <div
        class="flex flex-col min-h-full items-center justify-center">
        <div class="grid place-content-center text-sm p-1">

          @if (item.type === 'weapon' && (item.affectedStats.accuracy !== 0 || item.affectedStats.strength !== 0)) {
            <p>
              Damage:
              <span
                class="text-red-500">+ {{ item.affectedStats.accuracy }}
                - {{ item.affectedStats.strength }}
                ⚔️</span>
            </p>
          } @else {
            @if (item.affectedStats.strength !== 0) {
              <p>
                Strength:
                <span
                  class="text-red-500">{{ item.affectedStats.strength }}
                  ⚔️</span>
              </p>
            }

            @if (item.affectedStats.accuracy !== 0) {
              <p>
                Accuracy:
                <span
                  class="text-red-500">{{ item.affectedStats.accuracy }}
                  🎯</span>
              </p>
            }
          }

          @if (item.affectedStats.attackSpeed !== 0 && item.affectedStats.attackSpeed !== 1) {
            <p>
              A.speed:
              <span
                class="text-blue-500">{{ item.affectedStats.attackSpeed * 100 - 100 | number: '1.0-0' }}
                % ⏩</span>
            </p>
          }

          @if (item.affectedStats.defense !== 0) {
            <p>
              Defense:
              <span
                class="text-green-600">{{ item.affectedStats.defense }}
                🛡️</span>
            </p>
          }

          @if (item.affectedStats.flatDmgReduction !== 0) {
            <p>
              Damage Reduction:
              <span
                class="text-green-600">{{ item.affectedStats.flatDmgReduction }}
                🔰</span>
            </p>
          }

          @if (item.affectedStats.dodgeRate !== 0) {
            <p>
              Dodge:
              <span
                class="text-green-400">{{ item.affectedStats.dodgeRate }}
                🦵</span>
            </p>
          }

          @if (item.affectedStats.maxHp !== 0) {
            <p>
              Health:
              <span
                class="text-pink-500">{{ item.affectedStats.maxHp }}
                ❤️</span>
            </p>
          }

          @if (item.affectedStats.income !== 0) {
            <p>
              Income:
              <span
                class="text-yellow-300">{{ item.affectedStats.income }}
                💰</span>
            </p>
          }

          @if (item.affectedStats.hpRegen !== 0) {
            <p>
              Regen:
              <span
                class="text-orange-500">{{ item.affectedStats.hpRegen }}
                🧪</span>
            </p>
          }

        </div>
        @if (item.set) {
          <div class="p-1 m-1"
               [ngClass]="{'text-green-500': item.setActive, 'text-slate-300': !item.setActive}">
            <div>{{item.set | titlecase}} set bonus:</div>
            <div>{{item.setActive ? '(active)': '(inactive)'}}</div>
            <div
              class="whitespace-pre-line">

              @if (item.setBonusStats.strength !== 0) {
                <p>
                  Strength:
                  <span
                    class="text-red-500">{{ item.setBonusStats.strength }}
                    ⚔️</span>
                </p>
              }

              @if (item.setBonusStats.accuracy !== 0) {
                <p>
                  Accuracy:
                  <span
                    class="text-red-500">{{ item.setBonusStats.accuracy }}
                    🎯</span>
                </p>
              }


              @if (item.setBonusStats.attackSpeed !== 0 && item.setBonusStats.attackSpeed !== 1) {
                <p>
                  A.speed:
                  <span
                    class="text-blue-500">{{ item.setBonusStats.attackSpeed * 100 - 100 | number: '1.0-0' }}
                    % ⏩</span>
                </p>
              }

              @if (item.setBonusStats.defense !== 0) {
                <p>
                  Defense:
                  <span
                    class="text-green-600">{{ item.setBonusStats.defense }}
                    🛡️</span>
                </p>
              }

              @if (item.setBonusStats.flatDmgReduction !== 0) {
                <p>
                  Damage Reduction:
                  <span
                    class="text-green-600">{{ item.setBonusStats.flatDmgReduction }}
                    🔰</span>
                </p>
              }

              @if (item.setBonusStats.dodgeRate !== 0) {
                <p>
                  Dodge:
                  <span
                    class="text-green-400">{{ item.setBonusStats.dodgeRate }}
                    🦵</span>
                </p>
              }

              @if (item.setBonusStats.maxHp !== 0) {
                <p>
                  Health:
                  <span
                    class="text-pink-500">{{ item.setBonusStats.maxHp }}
                    ❤️</span>
                </p>
              }

              @if (item.setBonusStats.income !== 0) {
                <p>
                  Income:
                  <span
                    class="text-yellow-300">{{ item.setBonusStats.income }}
                    💰</span>
                </p>
              }

              @if (item.setBonusStats.hpRegen !== 0) {
                <p>
                  Regen:
                  <span
                    class="text-orange-500">{{ item.setBonusStats.hpRegen }}
                    🧪</span>
                </p>
              }

            </div>
            <br>
          </div>
        }
      </div>
    </div>
  }
</div>
