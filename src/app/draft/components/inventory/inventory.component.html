<!-- Inventory Section -->
<div id="inventory-search-bar" class="flex rounded-lg justify-evenly items-center bg-stone-800 mt-8">
  <button mat-button (click)="backToDefault()" class="px-4 py-2 bg-[#654321] text-white rounded-md">Obtained</button>
  <button mat-button (click)="sortByName()" class="px-4 py-2 bg-[#654321] text-white rounded-md">A-Z</button>
  <button mat-button (click)="sortByLevel()" class="px-4 py-2 bg-[#654321] text-white rounded-md">Level</button>
  <button mat-button [matMenuTriggerFor]="menu" class="px-4 py-2 bg-[#654321] text-white rounded-md">Sets</button>
  <mat-menu #menu="matMenu">
    @for (collection of player.activeItemCollections; track $index){
    <button (click)="listOfSets(collection.name); setSelectedCollection(collection)" mat-menu-item>
      {{ collection.name }}
    </button>
    }
  </mat-menu>
</div>

@if(isDisplayingSets){
<div class="flex flex-col justify-center items-center">
  <label for="reqs">requirements:</label>
  <p id="reqs">{{selectedItemCollection?.requirements}}</p>
  <label for="effect">effect:</label>
  <p id="effect">{{selectedItemCollection?.effect}}</p>
</div>
}

<div id="inventory-grid" [ngClass]="{ 
    'grid-cols-4': !isDisplayingSets, 
    'grid-cols-3': isDisplayingSets 
  }" class="grid gap-4 place-items-center">

  @for (item of displayedInventory; track $index) {
  <mat-card [style.background-image]="'url(' + getItemImage(item) + ')'" id="item-{{ $index }}"
    class="w-60 h-80 items-center rounded-lg shadow-lg transform transition-transform scale-75 hover:scale-90"
    (mouseenter)="onMouseEnterItem(item)" (mouseleave)="onMouseLeaveItem(item)">
    <app-item-card [item]="item" [player]="player"></app-item-card>
  </mat-card>
  }

</div>